<!doctype html><html lang=ja><head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1">
<link rel=stylesheet href=/sass/main.min.6b310111c019be6dd09332707e7917cd0f390efac00d80d7beb9b9407a671740.css>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css integrity=sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB crossorigin=anonymous>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js integrity=sha384-0fdwu/T/EQMsQlrHCCHoH10pkPLlKA1jL5dFyUOvB3lfeT2540/2g6YgSi2BL14p crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script defer>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script>
<script defer src=/js/prism.min.js></script>
<link rel=stylesheet href=/css/prism.min.css>
</head>
<body>
<main id=content>
<p class=category>
カテゴリー: <a href=/writeup>writeup</a>
</p>
<article class=suuri><h1 id=g---グリッド金移動---第3回アルゴリズム実技検定>G - グリッド金移動 - 第3回アルゴリズム実技検定</h1>
<h2 id=概要>概要</h2>
<p>BFSを用いる問題。ボードの広さが無限なので迂回が可能であることに注意。</p>
<h2 id=詳細>詳細</h2>
<h3 id=問題概要>問題概要</h3>
<p><a href=https://atcoder.jp/contests/past202005-open/tasks/past202005_g>問題リンク - AtCoder</a></p>
<p>無限に広がる二次元平面上を、将棋の金の動きで移動する。障害物のあるマスには移動できない。ゴール $(X,Y)$ に到達する最小の移動回数を求めよ。</p>
<h3 id=解法>解法</h3>
<p>BFSを用いる。 $X,Y$ の存在する範囲が $400 \times 400$ だが、この範囲の外を迂回することができるので $X,Y$ の正と負の方向、4方向に余分な空間をとっておく必要がある。</p>
<h3 id=実装>実装</h3>
<p>まず座標が負になりうるので配列のインデックスに使いづらいので余分込みで <code>+202</code> する。<br>
キューの初期化は <code>VecDeque&lt;(usize, usize)></code> で行い、最初の地点を入れる。<br>
金の動きをした先の座標に対し行うcheckは盤面の外に出ていないか、と未訪問であるか、の2点。</p>
<p>Rustでの実装 <a href=https://atcoder.jp/contests/past202005-open/submissions/31393071>提出リンク</a></p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=fm>macro_rules!</span><span class=w> </span><span class=n>input</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=n>source</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=cp>$s</span>:<span class=nc>expr</span><span class=p>,</span><span class=w> </span><span class=cp>$($r</span>:<span class=nc>tt</span><span class=p>)</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>iter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=cp>$s</span><span class=p>.</span><span class=n>split_whitespace</span><span class=p>();</span><span class=w>
</span><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>next</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>iter</span><span class=p>.</span><span class=n>next</span><span class=p>().</span><span class=n>unwrap</span><span class=p>()</span><span class=w> </span><span class=p>};</span><span class=w>
</span><span class=w>        </span><span class=n>input_inner</span><span class=o>!</span><span class=p>{</span><span class=n>next</span><span class=p>,</span><span class=w> </span><span class=cp>$($r</span><span class=p>)</span><span class=o>*</span><span class=p>}</span><span class=w>
</span><span class=w>    </span><span class=p>};</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=cp>$($r</span>:<span class=nc>tt</span><span class=p>)</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=n>stdin</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span>::<span class=n>io</span>::<span class=n>stdin</span><span class=p>();</span><span class=w>
</span><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>bytes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>std</span>::<span class=n>io</span>::<span class=n>Read</span>::<span class=n>bytes</span><span class=p>(</span><span class=n>std</span>::<span class=n>io</span>::<span class=n>BufReader</span>::<span class=n>new</span><span class=p>(</span><span class=n>stdin</span><span class=p>.</span><span class=n>lock</span><span class=p>()));</span><span class=w>
</span><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>next</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>move</span><span class=w> </span><span class=o>||</span><span class=w> </span>-&gt; <span class=nb>String</span><span class=p>{</span><span class=w>
</span><span class=w>            </span><span class=n>bytes</span><span class=w>
</span><span class=w>                </span><span class=p>.</span><span class=n>by_ref</span><span class=p>()</span><span class=w>
</span><span class=w>                </span><span class=p>.</span><span class=n>map</span><span class=p>(</span><span class=o>|</span><span class=n>r</span><span class=o>|</span><span class=n>r</span><span class=p>.</span><span class=n>unwrap</span><span class=p>()</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>char</span><span class=p>)</span><span class=w>
</span><span class=w>                </span><span class=p>.</span><span class=n>skip_while</span><span class=p>(</span><span class=o>|</span><span class=n>c</span><span class=o>|</span><span class=n>c</span><span class=p>.</span><span class=n>is_whitespace</span><span class=p>())</span><span class=w>
</span><span class=w>                </span><span class=p>.</span><span class=n>take_while</span><span class=p>(</span><span class=o>|</span><span class=n>c</span><span class=o>|!</span><span class=n>c</span><span class=p>.</span><span class=n>is_whitespace</span><span class=p>())</span><span class=w>
</span><span class=w>                </span><span class=p>.</span><span class=n>collect</span><span class=p>()</span><span class=w>
</span><span class=w>        </span><span class=p>};</span><span class=w>
</span><span class=w>        </span><span class=n>input_inner</span><span class=o>!</span><span class=p>{</span><span class=n>next</span><span class=p>,</span><span class=w> </span><span class=cp>$($r</span><span class=p>)</span><span class=o>*</span><span class=p>}</span><span class=w>
</span><span class=w>    </span><span class=p>};</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=fm>macro_rules!</span><span class=w> </span><span class=n>input_inner</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=cp>$next</span>:<span class=nc>expr</span><span class=p>)</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{};</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=cp>$next</span>:<span class=nc>expr</span><span class=p>,</span><span class=w> </span><span class=p>)</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{};</span><span class=w>
</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=cp>$next</span>:<span class=nc>expr</span><span class=p>,</span><span class=w> </span><span class=cp>$var</span>:<span class=nc>ident</span><span class=w> </span>: <span class=cp>$t</span>:<span class=nc>tt</span><span class=w> </span><span class=cp>$($r</span>:<span class=nc>tt</span><span class=p>)</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=cp>$var</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>read_value</span><span class=o>!</span><span class=p>(</span><span class=cp>$next</span><span class=p>,</span><span class=w> </span><span class=cp>$t</span><span class=p>);</span><span class=w>
</span><span class=w>        </span><span class=n>input_inner</span><span class=o>!</span><span class=p>{</span><span class=cp>$next</span><span class=w> </span><span class=cp>$($r</span><span class=p>)</span><span class=o>*</span><span class=p>}</span><span class=w>
</span><span class=w>    </span><span class=p>};</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=fm>macro_rules!</span><span class=w> </span><span class=n>read_value</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=cp>$next</span>:<span class=nc>expr</span><span class=p>,</span><span class=w> </span><span class=p>(</span><span class=w> </span><span class=cp>$($t</span>:<span class=nc>tt</span><span class=p>),</span><span class=o>*</span><span class=w> </span><span class=p>))</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>        </span><span class=p>(</span><span class=w> </span><span class=cp>$(</span><span class=n>read_value</span><span class=o>!</span><span class=p>(</span><span class=cp>$next</span><span class=p>,</span><span class=w> </span><span class=cp>$t</span><span class=p>)),</span><span class=o>*</span><span class=w> </span><span class=p>)</span><span class=w>
</span><span class=w>    </span><span class=p>};</span><span class=w>
</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=cp>$next</span>:<span class=nc>expr</span><span class=p>,</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=cp>$t</span>:<span class=nc>tt</span><span class=w> </span><span class=p>;</span><span class=w> </span><span class=cp>$len</span>:<span class=nc>expr</span><span class=w> </span><span class=p>])</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>        </span><span class=p>(</span><span class=mi>0</span><span class=o>..</span><span class=cp>$len</span><span class=p>).</span><span class=n>map</span><span class=p>(</span><span class=o>|</span><span class=n>_</span><span class=o>|</span><span class=w> </span><span class=n>read_value</span><span class=o>!</span><span class=p>(</span><span class=cp>$next</span><span class=p>,</span><span class=w> </span><span class=cp>$t</span><span class=p>)).</span><span class=n>collect</span>::<span class=o>&lt;</span><span class=nb>Vec</span><span class=o>&lt;</span><span class=n>_</span><span class=o>&gt;&gt;</span><span class=p>()</span><span class=w>
</span><span class=w>    </span><span class=p>};</span><span class=w>
</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=cp>$next</span>:<span class=nc>expr</span><span class=p>,</span><span class=w> </span><span class=n>chars</span><span class=p>)</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>        </span><span class=n>read_value</span><span class=o>!</span><span class=p>(</span><span class=cp>$next</span><span class=p>,</span><span class=w> </span><span class=nb>String</span><span class=p>).</span><span class=n>chars</span><span class=p>().</span><span class=n>collect</span>::<span class=o>&lt;</span><span class=nb>Vec</span><span class=o>&lt;</span><span class=kt>char</span><span class=o>&gt;&gt;</span><span class=p>()</span><span class=w>
</span><span class=w>    </span><span class=p>};</span><span class=w>
</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=cp>$next</span>:<span class=nc>expr</span><span class=p>,</span><span class=w> </span><span class=n>usize1</span><span class=p>)</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>        </span><span class=n>read_value</span><span class=o>!</span><span class=p>(</span><span class=cp>$next</span><span class=p>,</span><span class=w> </span><span class=kt>usize</span><span class=p>)</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=mi>1</span><span class=w>
</span><span class=w>    </span><span class=p>};</span><span class=w>
</span><span class=w>
</span><span class=w>    </span><span class=p>(</span><span class=cp>$next</span>:<span class=nc>expr</span><span class=p>,</span><span class=w> </span><span class=cp>$t</span>:<span class=nc>ty</span><span class=p>)</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>        </span><span class=cp>$next</span><span class=p>().</span><span class=n>parse</span>::<span class=o>&lt;</span><span class=cp>$t</span><span class=o>&gt;</span><span class=p>().</span><span class=n>expect</span><span class=p>(</span><span class=s>&#34;Parse error&#34;</span><span class=p>)</span><span class=w>
</span><span class=w>    </span><span class=p>};</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>use</span><span class=w> </span><span class=n>std</span>::<span class=n>collections</span>::<span class=n>VecDeque</span><span class=p>;</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>input</span><span class=o>!</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>      </span><span class=n>n</span>: <span class=kt>usize</span><span class=p>,</span><span class=w>
</span><span class=w>      </span><span class=n>x</span>: <span class=kt>i64</span><span class=p>,</span><span class=w>
</span><span class=w>      </span><span class=n>y</span>: <span class=kt>i64</span><span class=p>,</span><span class=w>
</span><span class=w>      </span><span class=n>xy</span>: <span class=p>[[</span><span class=kt>i64</span><span class=p>;</span><span class=mi>2</span><span class=p>];</span><span class=n>n</span><span class=p>]</span><span class=w>
</span><span class=w>    </span><span class=p>}</span><span class=w>
</span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>board</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=fm>vec!</span><span class=p>[</span><span class=fm>vec!</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>;</span><span class=w> </span><span class=mi>405</span><span class=p>];</span><span class=w> </span><span class=mi>405</span><span class=p>];</span><span class=w>
</span><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=n>exy</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=n>xy</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=n>ex</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>exy</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>202</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>usize</span><span class=p>;</span><span class=w> </span><span class=c1>// 2 - 402 (401個)
</span><span class=c1></span><span class=w>        </span><span class=kd>let</span><span class=w> </span><span class=n>ey</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>exy</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>202</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>usize</span><span class=p>;</span><span class=w> </span><span class=c1>// 2 - 402
</span><span class=c1></span><span class=w>        </span><span class=n>board</span><span class=p>[</span><span class=n>ex</span><span class=p>][</span><span class=n>ey</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w>
</span><span class=w>    </span><span class=p>}</span><span class=w>
</span><span class=w>    </span><span class=c1>// board[ex][ey] == 0 -&gt; 障害物あり
</span><span class=c1></span><span class=w>    </span><span class=c1>// board[ex][ey] == -1 -&gt; 未訪問
</span><span class=c1></span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>gx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>202</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>usize</span><span class=p>;</span><span class=w>
</span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>gy</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=n>y</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>202</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>usize</span><span class=p>;</span><span class=w>
</span><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>q</span>: <span class=nc>VecDeque</span><span class=o>&lt;</span><span class=p>(</span><span class=kt>usize</span><span class=p>,</span><span class=w> </span><span class=kt>usize</span><span class=p>)</span><span class=o>&gt;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>VecDeque</span>::<span class=n>new</span><span class=p>();</span><span class=w>
</span><span class=w>    </span><span class=n>q</span><span class=p>.</span><span class=n>push_back</span><span class=p>((</span><span class=mi>202</span><span class=p>,</span><span class=w> </span><span class=mi>202</span><span class=p>));</span><span class=w>
</span><span class=w>    </span><span class=n>board</span><span class=p>[</span><span class=mi>202</span><span class=p>][</span><span class=mi>202</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w>
</span><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=o>!</span><span class=n>q</span><span class=p>.</span><span class=n>is_empty</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>        </span><span class=k>match</span><span class=w> </span><span class=n>q</span><span class=p>.</span><span class=n>pop_front</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>            </span><span class=nb>Some</span><span class=p>((</span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>y</span><span class=p>))</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>y</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=p>(</span><span class=n>gx</span><span class=p>,</span><span class=w> </span><span class=n>gy</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>                    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;{}&#34;</span><span class=p>,</span><span class=w> </span><span class=n>board</span><span class=p>[</span><span class=n>gx</span><span class=p>][</span><span class=n>gy</span><span class=p>]);</span><span class=w>
</span><span class=w>                    </span><span class=k>return</span><span class=p>;</span><span class=w>
</span><span class=w>                </span><span class=p>}</span><span class=w>
</span><span class=w>                </span><span class=k>for</span><span class=w> </span><span class=o>&amp;</span><span class=p>(</span><span class=n>dx</span><span class=p>,</span><span class=w> </span><span class=n>dy</span><span class=p>)</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=o>&amp;</span><span class=p>[(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>),</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>),</span><span class=w> </span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>),</span><span class=w> </span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>),</span><span class=w> </span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>),</span><span class=w> </span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=p>)]</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>                    </span><span class=kd>let</span><span class=w> </span><span class=n>nx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>x</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>i32</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dx</span><span class=p>;</span><span class=w>
</span><span class=w>                    </span><span class=kd>let</span><span class=w> </span><span class=n>ny</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>y</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>i32</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dy</span><span class=p>;</span><span class=w>
</span><span class=w>                    </span><span class=k>if</span><span class=w> </span><span class=n>nx</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=mi>404</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>nx</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>ny</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=mi>404</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>ny</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>                        </span><span class=k>continue</span><span class=p>;</span><span class=w>
</span><span class=w>                    </span><span class=p>}</span><span class=w>
</span><span class=w>                    </span><span class=k>if</span><span class=w> </span><span class=n>board</span><span class=p>[</span><span class=n>nx</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>usize</span><span class=p>][</span><span class=n>ny</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>usize</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=o>-</span><span class=mi>1</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>                        </span><span class=n>board</span><span class=p>[</span><span class=n>nx</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>usize</span><span class=p>][</span><span class=n>ny</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>usize</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>board</span><span class=p>[</span><span class=n>x</span><span class=p>][</span><span class=n>y</span><span class=p>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=p>;</span><span class=w>
</span><span class=w>                        </span><span class=n>q</span><span class=p>.</span><span class=n>push_back</span><span class=p>((</span><span class=n>nx</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>usize</span><span class=p>,</span><span class=w> </span><span class=n>ny</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=kt>usize</span><span class=p>));</span><span class=w>
</span><span class=w>                    </span><span class=p>}</span><span class=w>
</span><span class=w>                </span><span class=p>}</span><span class=w>
</span><span class=w>            </span><span class=p>}</span><span class=w>
</span><span class=w>            </span><span class=nb>None</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=k>break</span><span class=p>,</span><span class=w>
</span><span class=w>        </span><span class=p>}</span><span class=w>
</span><span class=w>    </span><span class=p>}</span><span class=w>
</span><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;-1&#34;</span><span class=p>);</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span></code></pre></div><h2 id=メモ>メモ</h2>
<ul>
<li>大回りで外側を迂回する時はスタート地点より下や左側もありうるので、 <code>+200</code> だとうまくいかない。また、ゴール付近での大回りもあるので <code>0-400</code> より大きい側にも余分に回れるようにしておく必要がある。</li>
</ul>
<h2 id=外部リンク>外部リンク</h2>
<ul>
<li><a href=https://blog.hamayanhamayan.com/entry/2020/06/06/230814>グリッド金移動 [第三回 アルゴリズム実技検定 G] - はまやんはまやんはまやん</a>
<ul>
<li>はまやんさんの解説。外側を大回りするところで詰まっていた時に参考にした</li>
</ul>
</li>
<li><a href=https://11takanori.medium.com/rust%E3%81%A7bfs%E3%81%99%E3%82%8B-aefeec6e368a>RustでBFSする - Takanori Ishibashi Medium'</a>
<ul>
<li>RustでのBFSのやり方、VecDeque周りを参考にした</li>
</ul>
</li>
</ul>
</article>
<footer>
<p class=license>
This document is licensed under
<a href=https://creativecommons.org/licenses/by/4.0/ target=_blank rel="noopener noreferrer">CC-BY-4.0</a>
</p>
<p class=repository>
Link to
<a href=https://github.com/uta8a/math-roadmap target=_blank rel="noopener noreferrer">GitHub Repository</a>
</p>
</footer>
</main>
</body>
</html>